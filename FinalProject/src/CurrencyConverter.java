import java.util.*;
import java.math.BigDecimal;
import java.math.RoundingMode;

public class CurrencyConverter {
    public String[] name = {"AUD", "CNY", "EUR", "HKD", "IDR", "JPY","KRW", "MMK", "MYR", "PHP", "SGD", "TWD", "USD","VND","THB","MOP"};
    private int[] round = {2, 2, 2, 2, 0, 0, 0, 0, 2, 2, 2, 0, 2, 0, 2, 2};
    private double[][] rate = {
        //AUD
        {1,4.7994398,0.61100459,5.177056,10_605.545,104.02742,905.22532,1_388.8279,3.1225095,38.555217,0.89462251,21.388506,0.66266937,16_880.923,24.280094,5.3331176},
        //CNY
        {0.20835765,1,0.12730748,1.0786792,2_209.7465,21.674908,188.61062,289.37292,0.65059875,8.0332745,0.18640144,4.4564588,0.13807223,3_516.6817,5.058098,1.1110394},
        //EUR
        {1.6366489,7.8563363,1,8.4741789,17_360.512,170.27943,1_481.7885,2_273.411,5.1113302,63.112199,1.4644633,35.011491,1.0847435,27_630.97,39.738208,8.7292601},
        //HKD
        {0.19313519,0.92706209,0.1180035,1,2_048.1161,20.09368,174.85102,268.26659,0.60314531,7.4473424,0.17280381,4.1315356,0.1280015,3_260.1747,4.6888687,1.03},
        //IDR
        {0.000094298944,0.00045264137,0.00005761563,0.00048825357,1,0.009810811,0.085371633,0.13098212,0.00029448785,0.0036361915,0.000084372079,0.002017237,0.00006249719,1.5921727,0.0022899045,0.00050302147},
        //JPY
        {0.009611738,0.046136999,0.0058726675,0.049766892,101.92837,1,8.7017917,13.350794,0.030016668,0.37063108,0.0085999087,0.20561369,0.0063702369,162.24986,0.233352,.051260246},
        //KRW
        {0.00110457,0.0053020114,0.00067488026,0.0057191546,11.713493,0.11491886,1,1.5342581,0.0034494813,0.042592503,0.00098829173,0.023628891,0.00073206037,18.64585,0.026816951,0.0058908579},
        //MMK
        {0.00071993753,0.0034557493,0.00043987401,0.0037276352,7.6346298,0.07490191,0.65178081,1,0.0022483057,0.027760976,0.00064414959,0.015400858,0.00047714291,12.152811,0.017478492,0.0038394862},
        //MYR
        {0.32020178,1.5370462,0.19564868,1.658002,3_395.2423,33.315248,289.89579,444.77935,1,12.347509,0.28650194,6.8501137,0.21222332,5_405.3193,7.7740719,1.7077241},
        //PHP
        {0.025931825,0.12448229,0.015845194,0.13427826,274.97387,2.6981351,23.478079,36.021788,0.080987995,1,0.023203217,0.55477697,0.017187541,437.76598,0.6296065,0.13830515},
        //SGD
        {1.1176127,5.3647942,0.68278161,5.7867571,11_850.507,116.27711,1_011.8312,1_552.4255,3.4903272,43.096847,1,23.909138,0.74072882,18_866.562,27.134384,5.9605883},
        //TWD
        {0.046744163,0.22438258,0.028557349,0.24203119,495.64759,4.8632917,42.319851,64.930214,0.14598298,1.8025262,0.041825012,1,0.030980992,789.07504,1.1348684,0.24929563},
        //USD
        {1.50942, 7.24258, 0.921918, 7.8121979, 16_002.293, 156.98238, 1_366.0615, 2_095.8084, 4.7120173, 58.181681, 1.3500285, 32.276286, 1,25_469.96,36.631564,8.0468261},
        //VND -> "AUD", "CNY", "EUR", "HKD", "IDR", "JPY","KRW", "MMK", "MYR", "PHP", "SGD", "TWD", "USD","VND","THB","MOP"
        {0.000059235732,0.0002843581,0.000036192528,0.00030673203,0.62807258,0.0061633334,0.053631236,0.082285487,0.00018500295,0.0022843255,0.000053003827,0.0012673066,0.000039261938,1,0.0014382262,0.00031593399},
        //THB
        {0.041186659,0.19771445,0.025164698,0.21327106,436.69944,4.2853714,37.289848,57.213175,0.12863272,1.5882936,0.036853609,0.88115943,0.027298862,695.30092,1,0.21966919},
        //MOP
        {0.18749401,0.90005542,0.11455725,0.97087379,1_987.9867,19.508295,169.75456,260.45152,0.58557468,7.2303886,0.16776867,4.0114407,0.1242769,3_165.3277,4.5540174,1}
    };

    public double convert(double value,String cur,String dest) {
        if(cur == null)return 0;
        ArrayList<String> namelist = new ArrayList<>(Arrays.asList(name));
        int i = namelist.indexOf(cur);
        int j = namelist.indexOf(dest);
        double convertedValue = value * rate[i][j];
        return rounding(convertedValue, round[j]);
    }
    public double rounding(double value, int decimalPlaces) {
        String formatString = "%." + decimalPlaces + "f";
        String roundedValueString = String.format(formatString, value);
        return Double.parseDouble(roundedValueString);
    }
    public String[] getCurrencyList() { return name;}
    public int getCurrencyIndex(String name){
        ArrayList<String> curList = new ArrayList<String>(Arrays.asList(name));
        return curList.indexOf(name);
    }
}
